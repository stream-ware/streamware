# Streamware Configuration
# Generated by: sq config --save

# AI / LLM
SQ_MODEL=llava:7b
SQ_OLLAMA_URL=http://localhost:11434
SQ_OPENAI_API_KEY=
SQ_ANTHROPIC_API_KEY=
SQ_LLM_PROVIDER=ollama

# Guarder (small LLM for filtering) - disable for speed
SQ_GUARDER_MODEL=gemma:2b
SQ_USE_GUARDER=false

# LLM Optimization
SQ_YOLO_SKIP_LLM_THRESHOLD=0.3
SQ_LLM_CACHE_TTL=30

# Voice / Audio
SQ_STT_PROVIDER=whisper_local
SQ_WHISPER_MODEL=base
SQ_TTS_ENGINE=pico
SQ_TTS_VOICE=
SQ_TTS_RATE=150

# Stream Analysis
SQ_STREAM_MODE=track
SQ_STREAM_FPS=2.0
# SQ_STREAM_INTERVAL is auto-calculated: 1/SQ_STREAM_FPS
SQ_STREAM_DURATION=30
SQ_STREAM_FOCUS=person
SQ_STREAM_SENSITIVITY=
SQ_STREAM_FRAMES_DIR=

# Network Scanning
SQ_NETWORK_SUBNET=
SQ_NETWORK_TIMEOUT=10
SQ_NETWORK_DEEP=false

# Camera / RTSP
SQ_DEFAULT_URL=rtsp://admin:admin@192.168.188.146:554/h264Preview_01_sub
SQ_RTSP_USER=admin
SQ_RTSP_PASS=admin
SQ_RTSP_PORT=554

# Lista kamer RTSP (format: nazwa|url, oddzielone przecinkami)
# Przykład: SQ_CAMERAS=front|rtsp://...,back|rtsp://...,garage|rtsp://...
SQ_CAMERAS=main|rtsp://admin:admin@192.168.188.146:554/h264Preview_01_sub
# Domyślna kamera z listy (nazwa lub indeks 0,1,2...)
SQ_DEFAULT_CAMERA=main

# Document Scanner Settings
SQ_SCANNER_FPS=1
SQ_SCANNER_MIN_CONFIDENCE=0.25
SQ_SCANNER_CONFIRM_THRESHOLD=0.60
SQ_SCANNER_AUTO_SAVE_THRESHOLD=0.85
SQ_SCANNER_COOLDOWN_SEC=2
SQ_SCANNER_USE_LLM_CONFIRM=true
SQ_SCANNER_JPEG_QUALITY=90

# Output Settings
SQ_OUTPUT_FORMAT=yaml
SQ_REPORTS_DIR=./reports
SQ_REPORT_INCLUDE_IMAGES=true

# Email Alerts
SQ_SMTP_HOST=smtp.gmail.com
SQ_SMTP_PORT=587
SQ_SMTP_USER=
SQ_SMTP_PASS=
SQ_EMAIL_FROM=
SQ_EMAIL_TO=

# Slack Alerts
SQ_SLACK_WEBHOOK=
SQ_SLACK_CHANNEL=alerts

# Telegram Alerts
SQ_TELEGRAM_BOT_TOKEN=
SQ_TELEGRAM_CHAT_ID=

# Database
SQ_POSTGRES_HOST=localhost
SQ_POSTGRES_PORT=5432
SQ_POSTGRES_USER=postgres
SQ_POSTGRES_PASS=
SQ_POSTGRES_DB=streamware

# Kafka
SQ_KAFKA_BROKERS=localhost:9092
SQ_KAFKA_GROUP_ID=streamware

# SSH
SQ_SSH_USER=
SQ_SSH_KEY=~/.ssh/id_rsa
SQ_SSH_PORT=22

# Web UI
SQ_WEB_HOST=0.0.0.0
SQ_WEB_PORT=8080
SQ_WEB_DEBUG=false

# Logging
SQ_LOG_LEVEL=INFO
SQ_LOG_FILE=

# RAM Disk (for fast frame I/O)
SQ_RAMDISK_PATH=/dev/shm/streamware
SQ_RAMDISK_ENABLED=true
SQ_RAMDISK_SIZE_MB=512
SQ_CAPTURE_FPS=2.0
SQ_FAST_CAPTURE=true
SQ_LLM_MIN_MOTION_PERCENT=30

# Advanced Detection Thresholds
SQ_YOLO_CONFIDENCE_THRESHOLD=0.15
SQ_YOLO_CONFIDENCE_THRESHOLD_HIGH=0.3
SQ_HOG_CONFIDENCE_THRESHOLD=0.85

# Time-based intervals (auto-calculated from FPS)
SQ_TRACK_PERIODIC_SECONDS=2
SQ_PERIODIC_CHECK_SECONDS=5
SQ_SKIP_AFTER_NO_TARGET_SECONDS=10

# Response Filter Timeouts
SQ_GUARDER_TIMEOUT=8
SQ_QUICK_PERSON_TIMEOUT=10
SQ_QUICK_CHANGE_TIMEOUT=8
SQ_SUMMARIZE_TIMEOUT=15
SQ_VALIDATE_TIMEOUT=10
SQ_ANALYZE_TIMEOUT=8
SQ_ANALYZE_TRACKING_TIMEOUT=10

# Vision Model Confidence Thresholds
SQ_VISION_ASSUME_PRESENT=0.5
SQ_VISION_CONFIDENT_PRESENT=0.9
SQ_VISION_CONFIDENT_ABSENT=0.9
SQ_SKIP_INTERVAL=5
SQ_CONSECUTIVE_NO_TARGET_SKIP=5

# Motion Detection Parameters
SQ_MOTION_DIFF_THRESHOLD=25
SQ_MOTION_BLUR_KERNEL=5
SQ_MOTION_CONTOUR_MIN_AREA=100
SQ_MOTION_SCALE_WIDTH=320
SQ_MOTION_SCALE_HEIGHT=240
SQ_MOTION_FIRST_FRAME_PERCENT=100.0
SQ_MOTION_ERROR_PERCENT=50.0
SQ_MOTION_MIN_PERCENT=0.5
SQ_MOTION_LOW_PERCENT=1.0
SQ_MOTION_MEDIUM_PERCENT=5.0
SQ_MOTION_HIGH_PERCENT=15.0

# HOG Detection Parameters
SQ_HOG_SCALE=400
SQ_HOG_WINSTRIDE=8
SQ_HOG_PADDING=4
SQ_HOG_SCALE_FACTOR=1.05
SQ_HOG_CONFIDENT_NO_PERSON=0.8
SQ_HOG_MIGHT_BE_PERSON=0.5

# Vision Model Parameters
SQ_VISION_MODELS=llava,moondream,bakllava,llava-llama3,minicpm-v
SQ_VISION_TIMEOUT=10
SQ_VISION_TIMEOUT_LONG=12
SQ_VISION_SUMMARY_MAX_LENGTH=80

# Guarder Model Parameters
SQ_GUARDER_DEFAULT_MODEL=qwen2.5:3b
SQ_GUARDER_SMALL_MODELS=gemma:2b,phi3:mini,llama3.2:latest,deepseek-r1:1.5b
SQ_GUARDER_MAX_RESPONSE_LENGTH=200

# Adaptive Throttling (If processing > threshold, throttle to interval from FPS)
SQ_SLOW_PROCESSING_THRESHOLD=1.0
# Note: throttle_interval is auto-calculated from SQ_STREAM_INTERVAL

# Frame Optimizer Intervals (auto-calculated from SQ_STREAM_FPS)
# SQ_MIN_INTERVAL = 1/(SQ_STREAM_FPS*2) - fastest when high motion
# SQ_MAX_INTERVAL = 1/SQ_STREAM_FPS - slowest when no motion
# SQ_BASE_INTERVAL = 1/SQ_STREAM_FPS - default

# Concurrent Processing (async frame analysis)
SQ_CONCURRENT_WORKERS=2
SQ_CONCURRENT_MODE=true
# Note: Frame timeout is auto-calculated from SQ_STREAM_INTERVAL

# Motion Analysis Parameters
SQ_MOTION_ANALYSIS_FPS=1.0
SQ_MOTION_ANALYSIS_THUMBNAIL_SIZE=192
SQ_MOTION_ANALYSIS_THUMBNAIL_QUALITY=75
SQ_MOTION_ANALYSIS_INCLUDE_SKIPPED=true
SQ_MOTION_ANALYSIS_THRESHOLD=25
SQ_MOTION_ANALYSIS_MIN_AREA=500
SQ_MOTION_ANALYSIS_GRID_SIZE=8
SQ_MOTION_ANALYSIS_CELL_THRESHOLD=0.1
SQ_MOTION_ANALYSIS_EDGE_THRESHOLD=50
SQ_MOTION_ANALYSIS_VERTICAL_THRESHOLD=0.3
SQ_MOTION_ANALYSIS_UPPER_PERCENT=0.6
SQ_MOTION_ANALYSIS_MIN_MOTION=0.5
SQ_MOTION_ANALYSIS_MAX_MOTION=15.0
SQ_MOTION_ANALYSIS_MIN_REGIONS=2
SQ_MOTION_ANALYSIS_MAX_REGIONS=8
SQ_MOTION_ANALYSIS_MIN_SPREAD=0.1
SQ_MOTION_ANALYSIS_MAX_SPREAD_X=0.5
SQ_MOTION_ANALYSIS_MAX_SPREAD_Y=0.6
SQ_MOTION_ANALYSIS_CONFIDENCE_THRESHOLD=0.5

# Tracking Settings
SQ_TRACK_MIN_STABLE_FRAMES=3
SQ_TRACK_BUFFER=90
SQ_TRACK_ACTIVATION_THRESHOLD=0.25
SQ_TRACK_MATCHING_THRESHOLD=0.8

# Object Re-Identification (ReID) - recognize same object across frames
SQ_USE_REID=true
SQ_REID_THRESHOLD=0.4
SQ_REID_GALLERY_SIZE=10

# Live Narrator
SQ_FORCE_LLM_INTERVAL=10
SQ_SKIP_MOTION_THRESHOLD=0.5

# Voice Shell
SQ_VOICE_SHELL_PORT=8765
SQ_VOICE_SHELL_LANG=en

# -----------------------------------------------------------------------------
# LLM Models Configuration (centralized)
# -----------------------------------------------------------------------------
# Main vision model for image analysis
SQ_VISION_MODEL=llava:7b

# Decision/filter model (notifications, intent)
SQ_DECISION_MODEL=qwen2.5:3b

# Text generation model (summaries, descriptions)
SQ_TEXT_MODEL=llama3.2:latest

# Code generation model
SQ_CODE_MODEL=qwen2.5-coder:7b

# Fallback models list (comma-separated, tried in order if primary fails)
# Used for: notification filter, guarder, response validation
SQ_FALLBACK_MODELS=qwen2.5:7b,gemma:2b,llama3.2:latest,phi3:mini

# Small/fast models for quick decisions (comma-separated)
SQ_SMALL_MODELS=gemma:2b,phi3:mini,llama3.2:1b,qwen2.5:3b,deepseek-r1:1.5b


# Email notification address (saved persistently)
SQ_NOTIFY_EMAIL=

